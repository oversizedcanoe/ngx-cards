import { Subject } from "rxjs";
export class Dice {
    minValue = 1;
    maxValue;
    value = 1;
    rolled = new Subject();
    constructor(maxValue = 6) {
        if (maxValue < 1) {
            throw new Error(`Parameter ${maxValue} must be greater than or equal to 1`);
        }
        else if (maxValue > 6) {
            throw new Error('Currently only up to D6 is supported.');
        }
        this.maxValue = maxValue;
    }
    roll() {
        this.value = Math.ceil(Math.random() * this.maxValue);
        this.rolled.next(this.value);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1jYXJkcy9zcmMvbGliL21vZGVscy9kaWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFL0IsTUFBTSxPQUFPLElBQUk7SUFDTixRQUFRLEdBQVcsQ0FBQyxDQUFDO0lBQ3JCLFFBQVEsQ0FBUztJQUNqQixLQUFLLEdBQVcsQ0FBQyxDQUFDO0lBQ2xCLE1BQU0sR0FBb0IsSUFBSSxPQUFPLEVBQVUsQ0FBQztJQUV2RCxZQUFZLFdBQW1CLENBQUM7UUFDNUIsSUFBSSxRQUFRLEdBQUcsQ0FBQyxFQUFDLENBQUM7WUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLGFBQWEsUUFBUSxxQ0FBcUMsQ0FBQyxDQUFBO1FBQy9FLENBQUM7YUFDSSxJQUFJLFFBQVEsR0FBRyxDQUFDLEVBQUMsQ0FBQztZQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLHVDQUF1QyxDQUFDLENBQUE7UUFDNUQsQ0FBQztRQUVELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzdCLENBQUM7SUFFTSxJQUFJO1FBQ1AsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERpY2Uge1xyXG4gICAgcHVibGljIG1pblZhbHVlOiBudW1iZXIgPSAxO1xyXG4gICAgcHVibGljIG1heFZhbHVlOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgdmFsdWU6IG51bWJlciA9IDE7XHJcbiAgICBwdWJsaWMgcm9sbGVkOiBTdWJqZWN0PG51bWJlcj4gPSBuZXcgU3ViamVjdDxudW1iZXI+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IobWF4VmFsdWU6IG51bWJlciA9IDYpe1xyXG4gICAgICAgIGlmIChtYXhWYWx1ZSA8IDEpe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcmFtZXRlciAke21heFZhbHVlfSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxYClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobWF4VmFsdWUgPiA2KXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50bHkgb25seSB1cCB0byBENiBpcyBzdXBwb3J0ZWQuJylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcm9sbCgpe1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIHRoaXMubWF4VmFsdWUpO1xyXG4gICAgICAgIHRoaXMucm9sbGVkLm5leHQodGhpcy52YWx1ZSk7XHJcbiAgICB9XHJcbn0iXX0=